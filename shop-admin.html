<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ADMIN - Qu·∫£n L√Ω Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');

*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:Orbitron,monospace;
  background:radial-gradient(circle at top,#0b1224,#000);
  color:#0ff;
  min-height:100vh;
  padding:20px;
  padding-bottom:80px;
}

.header {
  text-align: center;
  padding: 30px 0;
  border-bottom: 2px solid #0ff;
  margin-bottom: 30px;
}

h1 {
  font-size: 2.5rem;
  letter-spacing: 3px;
  text-shadow: 0 0 20px #0ff;
}

.stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 40px;
  max-width: 1400px;
  margin-left: auto;
  margin-right: auto;
}

.stat-card {
  background: rgba(0,255,255,0.1);
  border: 2px solid #0ff;
  border-radius: 12px;
  padding: 20px;
  text-align: center;
}

.stat-card h3 {
  font-size: 0.9rem;
  color: #0ff;
  margin-bottom: 10px;
  opacity: 0.8;
}

.stat-card .number {
  font-size: 2rem;
  font-weight: 700;
  color: #0ff;
  text-shadow: 0 0 15px #0ff;
}

.controls {
  max-width: 1400px;
  margin: 0 auto 30px;
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
}

.btn {
  padding: 12px 24px;
  background: linear-gradient(135deg,#0ff,#00aaff);
  color: #001;
  border: none;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  font-family: inherit;
  transition: 0.3s;
}

.btn:hover {
  filter: brightness(1.2);
  transform: translateY(-2px);
}

.btn-success {
  background: linear-gradient(135deg,#00ff88,#00cc66);
}

.table-container {
  max-width: 1400px;
  margin: 0 auto;
  background: rgba(0,0,0,0.6);
  border: 2px solid #0ff;
  border-radius: 12px;
  overflow-x: auto;
}

table {
  width: 100%;
  border-collapse: collapse;
}

thead {
  background: rgba(0,255,255,0.2);
}

th {
  padding: 15px 10px;
  text-align: left;
  font-weight: 700;
  border-bottom: 2px solid #0ff;
  font-size: 0.85rem;
}

td {
  padding: 12px 10px;
  border-bottom: 1px solid rgba(0,255,255,0.2);
  font-size: 0.85rem;
}

tr:hover {
  background: rgba(0,255,255,0.05);
}

.stock-input {
  width: 80px;
  padding: 6px;
  background: rgba(0,255,255,0.1);
  border: 1px solid #0ff;
  border-radius: 4px;
  color: #0ff;
  font-family: inherit;
  text-align: center;
}

.btn-update {
  padding: 6px 12px;
  background: #00ff88;
  color: #001;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.8rem;
  font-weight: 700;
}

.btn-update:hover {
  background: #00cc66;
}

.btn-delete {
  padding: 6px 12px;
  background: #ff4444;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.8rem;
  margin-left: 5px;
}

.btn-delete:hover {
  background: #cc0000;
}

/* Modal */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  z-index: 10000;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.modal.active {
  display: flex;
}

.modal-content {
  background: #0a0a0f;
  border: 2px solid #0ff;
  border-radius: 15px;
  max-width: 600px;
  width: 100%;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-header {
  padding: 20px;
  background: rgba(0,255,255,0.1);
  border-bottom: 2px solid #0ff;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-close {
  background: rgba(255,255,255,0.1);
  border: none;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  font-size: 1.5rem;
  color: #0ff;
  cursor: pointer;
}

.modal-body {
  padding: 25px;
}

.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  color: #0ff;
  font-size: 0.9rem;
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 12px;
  background: rgba(0,255,255,0.05);
  border: 2px solid #0ff;
  border-radius: 8px;
  color: #0ff;
  font-family: inherit;
}

.form-group textarea {
  resize: vertical;
  min-height: 80px;
}

.form-actions {
  display: flex;
  gap: 10px;
  margin-top: 25px;
}

@media (max-width: 768px) {
  h1 {
    font-size: 1.8rem;
  }
  
  .stats {
    grid-template-columns: repeat(2, 1fr);
  }
  
  table {
    font-size: 0.75rem;
  }
  
  th, td {
    padding: 8px 5px;
  }
}
</style>
</head>
<body>

<div class="header">
  <h1>üõí ADMIN - QU·∫¢N L√ù SHOP</h1>
  <p style="opacity:0.7;margin-top:10px;">Qu·∫£n l√Ω s·∫£n ph·∫©m & t·ªìn kho</p>
</div>

<div class="stats">
  <div class="stat-card">
    <h3>T·ªîNG S·∫¢N PH·∫®M</h3>
    <div class="number" id="totalProducts">0</div>
  </div>
  <div class="stat-card">
    <h3>ZALO</h3>
    <div class="number" id="zaloCount">0</div>
  </div>
  <div class="stat-card">
    <h3>FACEBOOK</h3>
    <div class="number" id="facebookCount">0</div>
  </div>
  <div class="stat-card">
    <h3>TELEGRAM</h3>
    <div class="number" id="telegramCount">0</div>
  </div>
  <div class="stat-card">
    <h3>WHATSAPP</h3>
    <div class="number" id="whatsappCount">0</div>
  </div>
  <div class="stat-card">
    <h3>VIBER</h3>
    <div class="number" id="viberCount">0</div>
  </div>
</div>

<div class="controls">
  <button class="btn btn-success" onclick="openAddModal()">‚ûï Th√™m s·∫£n ph·∫©m m·ªõi</button>
  <button class="btn" onclick="loadProducts()">üîÑ L√†m m·ªõi</button>
  <a href="shop.html" class="btn" style="text-decoration:none;display:inline-block;">üëÅÔ∏è Xem shop</a>
</div>

<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>DANH M·ª§C</th>
        <th>LO·∫†I S·∫¢N PH·∫®M</th>
        <th>GI√Å</th>
        <th>T·ªíN KHO</th>
        <th>H√ÄNH ƒê·ªòNG</th>
      </tr>
    </thead>
    <tbody id="productsTable"></tbody>
  </table>
</div>

<!-- Modal Add/Edit -->
<div class="modal" id="productModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modalTitle">Th√™m s·∫£n ph·∫©m m·ªõi</h2>
      <button class="modal-close" onclick="closeModal()">√ó</button>
    </div>
    <div class="modal-body">
      <form id="productForm">
        <input type="hidden" id="productId">
        
        <div class="form-group">
          <label>Danh m·ª•c</label>
          <select id="category" required>
            <option value="zalo">Zalo</option>
            <option value="facebook">Facebook</option>
            <option value="telegram">Telegram</option>
            <option value="whatsapp">WhatsApp</option>
            <option value="viber">Viber</option>
          </select>
        </div>
        
        <div class="form-group">
          <label>Lo·∫°i s·∫£n ph·∫©m</label>
          <select id="type" required>
            <optgroup label="Zalo">
              <option value="Zalo Ng√†y">Zalo Ng√†y</option>
              <option value="Zalo Th√°ng">Zalo Th√°ng</option>
              <option value="Zalo NƒÉm">Zalo NƒÉm</option>
              <option value="Zalo Business Basic">Zalo Business Basic</option>
              <option value="Zalo Business Pro">Zalo Business Pro</option>
            </optgroup>
            <optgroup label="Facebook">
              <option value="Facebook Ch∆∞a Verify">Facebook Ch∆∞a Verify</option>
              <option value="Facebook ƒê√£ Verify">Facebook ƒê√£ Verify</option>
              <option value="Facebook US Reg">Facebook US Reg</option>
              <option value="Facebook VN Reg">Facebook VN Reg</option>
              <option value="Facebook Spam">Facebook Spam</option>
              <option value="Facebook T√≠ch Xanh">Facebook T√≠ch Xanh</option>
              <option value="Facebook Chat Meta">Facebook Chat Meta</option>
              <option value="Facebook Nhi·ªÅu B√†i ƒêƒÉng">Facebook Nhi·ªÅu B√†i ƒêƒÉng</option>
            </optgroup>
            <optgroup label="Telegram">
              <option value="Telegram C∆° B·∫£n">Telegram C∆° B·∫£n</option>
              <option value="Telegram Premium">Telegram Premium</option>
              <option value="Telegram Aged">Telegram Aged</option>
            </optgroup>
            <optgroup label="WhatsApp">
              <option value="WhatsApp C∆° B·∫£n">WhatsApp C∆° B·∫£n</option>
              <option value="WhatsApp Business">WhatsApp Business</option>
              <option value="WhatsApp US Number">WhatsApp US Number</option>
            </optgroup>
            <optgroup label="Viber">
              <option value="Viber C∆° B·∫£n">Viber C∆° B·∫£n</option>
              <option value="Viber Business">Viber Business</option>
            </optgroup>
          </select>
        </div>
        
        <div class="form-group">
          <label>Lo·∫°i t√πy ch·ªânh (n·∫øu kh√¥ng c√≥ trong danh s√°ch)</label>
          <input type="text" id="customType" placeholder="VD: Facebook Premium, Zalo VIP...">
        </div>
        
        <div class="form-group">
          <label>Icon (emoji)</label>
          <input type="text" id="icon" placeholder="VD: üí¨, üë•, ü§ñ" value="üí¨" required>
        </div>
        
        <div class="form-group">
          <label>Gi√° (VD: 50,000ƒë)</label>
          <input type="text" id="price" placeholder="50,000ƒë" required>
        </div>
        
        <div class="form-group">
          <label>S·ªë l∆∞·ª£ng t·ªìn kho</label>
          <input type="number" id="stock" min="0" value="0" required>
        </div>
        
        <div class="form-group">
          <label>M√¥ t·∫£</label>
          <textarea id="description" placeholder="M√¥ t·∫£ ng·∫Øn g·ªçn v·ªÅ s·∫£n ph·∫©m" required></textarea>
        </div>
        
        <div class="form-actions">
          <button type="submit" class="btn btn-success" style="flex:1;">üíæ L∆∞u</button>
          <button type="button" class="btn" onclick="closeModal()" style="flex:1;">‚ùå H·ªßy</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- QU·∫¢NG C√ÅO -->
<div style="position:fixed;bottom:0;left:0;right:0;background:linear-gradient(135deg,#6c63ff,#00d4aa);padding:12px 20px;text-align:center;z-index:9999;box-shadow:0 -4px 20px rgba(0,0,0,0.5);">
  <marquee behavior="scroll" direction="left" scrollamount="8" style="color:#fff;font-weight:700;font-size:15px;font-family:Arial,sans-serif;">
    ‚≠ê @ChenGuangLi - Zalo - Facebook - Javascrips - Python - Bot Telegram - Data kh√°ch h√†ng - D·ªãch v·ª• Facebook ‚≠ê
  </marquee>
</div>

<script>
let products = [];
let editingId = null;

function loadProducts() {
  const saved = localStorage.getItem('shopProducts');
  products = saved ? JSON.parse(saved) : [];
  
  renderProducts();
  updateStats();
}

function saveProducts() {
  localStorage.setItem('shopProducts', JSON.stringify(products));
}

function renderProducts() {
  const tbody = document.getElementById('productsTable');
  
  tbody.innerHTML = products.map(p => `
    <tr>
      <td>${p.id}</td>
      <td><span style="text-transform:uppercase;">${p.category}</span></td>
      <td>${p.type}</td>
      <td>${p.price}</td>
      <td>
        <input type="number" class="stock-input" value="${p.stock}" 
               onchange="updateStock(${p.id}, this.value)" min="0">
      </td>
      <td>
        <button class="btn-update" onclick="editProduct(${p.id})">‚úèÔ∏è S·ª≠a</button>
        <button class="btn-delete" onclick="deleteProduct(${p.id})">üóëÔ∏è</button>
      </td>
    </tr>
  `).join('');
}

function updateStats() {
  document.getElementById('totalProducts').textContent = products.length;
  document.getElementById('zaloCount').textContent = products.filter(p => p.category === 'zalo').length;
  document.getElementById('facebookCount').textContent = products.filter(p => p.category === 'facebook').length;
  document.getElementById('telegramCount').textContent = products.filter(p => p.category === 'telegram').length;
  document.getElementById('whatsappCount').textContent = products.filter(p => p.category === 'whatsapp').length;
  document.getElementById('viberCount').textContent = products.filter(p => p.category === 'viber').length;
}

function updateStock(id, newStock) {
  const product = products.find(p => p.id === id);
  if (product) {
    product.stock = parseInt(newStock);
    saveProducts();
    alert('‚úÖ ƒê√£ c·∫≠p nh·∫≠t t·ªìn kho!');
  }
}

function openAddModal() {
  editingId = null;
  document.getElementById('modalTitle').textContent = 'Th√™m s·∫£n ph·∫©m m·ªõi';
  document.getElementById('productForm').reset();
  document.getElementById('productId').value = '';
  document.getElementById('productModal').classList.add('active');
}

function editProduct(id) {
  const product = products.find(p => p.id === id);
  if (!product) return;
  
  editingId = id;
  document.getElementById('modalTitle').textContent = 'Ch·ªânh s·ª≠a s·∫£n ph·∫©m';
  document.getElementById('productId').value = product.id;
  document.getElementById('category').value = product.category;
  
  // Check if type is in dropdown or custom
  const typeSelect = document.getElementById('type');
  const options = Array.from(typeSelect.options).map(opt => opt.value);
  
  if (options.includes(product.type)) {
    typeSelect.value = product.type;
    document.getElementById('customType').value = '';
  } else {
    typeSelect.value = '';
    document.getElementById('customType').value = product.type;
  }
  
  document.getElementById('icon').value = product.icon;
  document.getElementById('price').value = product.price;
  document.getElementById('stock').value = product.stock;
  document.getElementById('description').value = product.description;
  
  document.getElementById('productModal').classList.add('active');
}

function deleteProduct(id) {
  if (!confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y?')) return;
  
  products = products.filter(p => p.id !== id);
  saveProducts();
  loadProducts();
  alert('‚úÖ ƒê√£ x√≥a s·∫£n ph·∫©m!');
}

function closeModal() {
  document.getElementById('productModal').classList.remove('active');
}

// Form submit
document.getElementById('productForm').addEventListener('submit', (e) => {
  e.preventDefault();
  
  const typeSelect = document.getElementById('type').value;
  const customType = document.getElementById('customType').value.trim();
  const finalType = customType || typeSelect;
  
  if (!finalType) {
    alert('‚ö†Ô∏è Vui l√≤ng ch·ªçn ho·∫∑c nh·∫≠p lo·∫°i s·∫£n ph·∫©m!');
    return;
  }
  
  const formData = {
    category: document.getElementById('category').value,
    type: finalType,
    icon: document.getElementById('icon').value,
    price: document.getElementById('price').value,
    stock: parseInt(document.getElementById('stock').value),
    description: document.getElementById('description').value
  };
  
  if (editingId) {
    // Update existing
    const product = products.find(p => p.id === editingId);
    if (product) {
      Object.assign(product, formData);
    }
    alert('‚úÖ ƒê√£ c·∫≠p nh·∫≠t s·∫£n ph·∫©m!');
  } else {
    // Add new
    const newId = products.length > 0 ? Math.max(...products.map(p => p.id)) + 1 : 1;
    products.push({
      id: newId,
      ...formData
    });
    alert('‚úÖ ƒê√£ th√™m s·∫£n ph·∫©m m·ªõi!');
  }
  
  saveProducts();
  loadProducts();
  closeModal();
});

// Close modal on outside click
document.getElementById('productModal').addEventListener('click', (e) => {
  if (e.target.id === 'productModal') {
    closeModal();
  }
});

// ESC to close
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    closeModal();
  }
});

// Initial load
loadProducts();
</script>

</body>
</html>